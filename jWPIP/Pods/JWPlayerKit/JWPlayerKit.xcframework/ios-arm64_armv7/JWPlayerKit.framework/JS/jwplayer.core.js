/*!
   JW Player version 8.18.3
   Copyright (c) 2021, JW Player, All Rights Reserved
   This source code and its use and distribution is subject to the terms
   and conditions of the applicable license agreement.
   https://www.jwplayer.com/tos/
   This product includes portions of other software. For the full text of licenses, see
   https://ssl.p.jwpcdn.com/player/v/8.18.3/notice.txt
*/
(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{49:
/*!******************************************************!*\
  !*** ./src/js/controller/controller.js + 20 modules ***!
  \******************************************************/
/*! exports provided: default */
/*! all exports used */
/*! ModuleConcatenation bailout: Cannot concat with ./src/js/providers/providers.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/api-queue.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/config-normalization.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/core-shim.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/errors.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/players.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/api/timer.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/environment/environment.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/events/events.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/model/player-model.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/model/simplemodel.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/playlist/item.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/playlist/loader.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/playlist/playlist.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/program/program-constants.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/providers/providers-supported.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/backbone.events.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/in-interaction-event.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/random-id-generator.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/strings.ts */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/underscore.js */
/*! ModuleConcatenation bailout: Cannot concat with ../jwplayer/src/js/utils/video.ts */function(t,e,i){"use strict";i.r(e);i(12);var r=i(3),n=i(0),a=i(14),o=i(45),s=i(31),u=["notVisible","always","never"];var c=i(39),l=i(41),d=i(27),h=i(40),f=i(2),m=i(8),p=i(28);function g(t){var e=!1;return{async:function(){for(var i=this,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return Promise.resolve().then((function(){if(!e)return t.apply(i,n)}))},cancel:function(){e=!0},cancelled:function(){return e}}}var v=i(1);function y(t){return function(e,i){var a=t.mediaModel,o=Object(n.f)({},i,{type:e});switch(e){case r.M:if(a.get(r.M)===o.mediaType)return;a.set(r.M,o.mediaType);break;case r.N:return void a.set(r.N,Object(n.f)({},i));case r.F:if(i[r.F]===t.model.getMute())return;break;case r.U:var s=i.newstate;s===r.eb&&(t.thenPlayPromise.cancel(),a.srcReset());var u=a.attributes.mediaState;a.attributes.mediaState=s,a.trigger("change:mediaState",a,s,u);break;case r.z:return t.beforeComplete=!0,t.trigger(r.w,o),void(t.attached&&!t.background&&t._playbackComplete());case r.A:a.get("setup")?(t.thenPlayPromise.cancel(),a.srcReset()):(e=r.mb,o.code+=1e5);break;case r.E:var c=i,l=c.duration,d=c.metadataType,h=c.seekRange;d||(o.metadataType="unknown"),Object(n.p)(l)&&(a.set("seekRange",h),a.set("duration",l));break;case r.y:a.set("buffer",i.bufferPercent);case r.L:var f=i;a.set("seekRange",f.seekRange),a.set("position",f.position),a.set("currentTime",f.currentTime);var m=f.duration;Object(n.p)(m)&&a.set("duration",m),e===r.L&&Object(n.m)(t.item.starttime)&&delete t.item.starttime;break;case r.K:var p=t.mediaElement;p&&p.paused&&a.set("mediaState","paused");break;case r.C:a.set(r.C,i.levels);case r.D:var g=i,v=g.currentQuality,y=g.levels;v>-1&&y.length>1&&a.set("currentLevel",parseInt(v));break;case r.f:a.set(r.f,i.tracks);case r.g:var b=i,k=b.currentTrack,M=b.tracks;k>-1&&M.length>0&&k<M.length&&a.set("currentAudioTrack",parseInt(k))}t.trigger(e,o)}}var b=i(5),k=i(42),M=i(36);function C(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var w=function(t){function e(){var e;return(e=t.call(this)||this).providerController=null,e._provider=null,e.addAttributes({mediaModel:new P}),e}C(e,t);var i=e.prototype;return i.setup=function(t){return t=t||{},this._normalizeConfig(t),Object(n.f)(this.attributes,t,M.b),this.providerController=new p.a(this.getConfiguration()),this.setAutoStart(),this},i.getConfiguration=function(){var t=this.clone(),e=t.mediaModel.attributes;return Object.keys(M.a).forEach((function(i){t[i]=e[i]})),t.instreamMode=!!t.instream,delete t.instream,delete t.mediaModel,t},i.persistQualityLevel=function(t,e){var i=e[t]||{},r=i.label,a=Object(n.p)(i.bitrate)?i.bitrate:null;this.set("bitrateSelection",a),this.set("qualityLabel",r)},i.setActiveItem=function(t){var e=this.get("playlist")[t];this.resetItem(e),this.attributes.playlistItem=null,this.set("item",t),this.set("minDvrWindow",e.minDvrWindow),this.set("dvrSeekLimit",e.dvrSeekLimit),this.set("playlistItem",e)},i.setMediaModel=function(t){this.mediaModel&&this.mediaModel!==t&&this.mediaModel.off(),t=t||new P,this.mediaModel=t,function(t){var e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(t)},i.destroy=function(){this.attributes._destroyed=!0,this.off(),this._provider&&(this._provider.off(null,null,this),this._provider.destroy())},i.getVideo=function(){return this._provider},i.setFullscreen=function(t){(t=!!t)!==this.get("fullscreen")&&this.set("fullscreen",t)},i.getProviders=function(){return this.providerController},i.setVolume=function(t){if(Object(n.p)(t)){var e=Math.min(Math.max(0,t),100);this.set("volume",e);var i=0===e;i!==this.getMute()&&this.setMute(i)}},i.getMute=function(){return this.get("autostartMuted")||this.get("mute")},i.setMute=function(t){if(void 0===t&&(t=!this.getMute()),this.set("mute",!!t),!t){var e=Math.max(10,this.get("volume"));this.set("autostartMuted",!1),this.setVolume(e)}},i.setStreamType=function(t){this.set("streamType",t),"LIVE"===t&&this.setPlaybackRate(1)},i.setProvider=function(t){this._provider=t,_(this,t)},i.resetProvider=function(){this._provider=null,this.set("provider",void 0)},i.setPlaybackRate=function(t){Object(n.m)(t)&&(t=Math.max(Math.min(t,4),.25),"LIVE"===this.get("streamType")&&(t=1),this.set("defaultPlaybackRate",t),this._provider&&this._provider.setPlaybackRate&&this._provider.setPlaybackRate(t))},i.persistCaptionsTrack=function(){var t=this.get("captionsTrack");t?this.set("captionLabel",t.name):this.set("captionLabel","Off")},i.setVideoSubtitleTrack=function(t,e){this.set("captionsIndex",t),t&&e&&t<=e.length&&e[t-1].data&&this.set("captionsTrack",e[t-1])},i.persistVideoSubtitleTrack=function(t,e){this.setVideoSubtitleTrack(t,e),this.persistCaptionsTrack()},i.setAutoStart=function(t){void 0!==t&&this.set("autostart",t);var e=!(!b.OS.mobile||!this.get("autostart"));this.set("playOnViewable",e||"viewable"===this.get("autostart"))},i.resetItem=function(t){var e=t?Object(f.f)(t.starttime):0,i=t?Object(f.f)(t.duration):0,r=this.mediaModel;this.set("playRejected",!1),this.attributes.itemMeta={},r.set("position",e),r.set("currentTime",0),r.set("duration",i)},i.persistBandwidthEstimate=function(t){Object(n.p)(t)&&this.set("bandwidthEstimate",t)},i._normalizeConfig=function(t){var e=t.floating;e&&e.disabled&&delete t.floating},e}(k.a),_=function(t,e){t.set("provider",e.getName()),!0===t.get("instreamMode")&&(e.instreamMode=!0),-1===e.getName().name.indexOf("flash")&&(t.set("flashThrottle",void 0),t.set("flashBlocked",!1)),t.setPlaybackRate(t.get("defaultPlaybackRate")),t.set("supportsPlaybackRate",e.supportsPlaybackRate),t.set("playbackRate",e.getPlaybackRate()),t.set("renderCaptionsNatively",e.renderNatively)};var P=function(t){function e(){var e;return(e=t.call(this)||this).addAttributes({mediaState:r.eb}),e}return C(e,t),e.prototype.srcReset=function(){Object(n.f)(this.attributes,{setup:!1,started:!1,preloaded:!1,visualQuality:null,buffer:0,currentTime:0})},e}(k.a),A=w;function I(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var j=function(t){var e,i;function a(e,i){var r;return(r=t.call(this)||this).attached=!0,r.beforeComplete=!1,r.item=null,r.mediaModel=new P,r.model=i,r.provider=e,r.providerListener=new y(O(r)),r.thenPlayPromise=g((function(){})),e.off(),e.on("all",r.providerListener,O(r)),r.eventQueue=new c.a(O(r),["trigger"],(function(){return!r.attached||r.background})),r}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o,s,u,l=a.prototype;return l.play=function(t){var e=this.item,i=this.model,r=this.mediaModel,n=this.provider;if(t||(t=i.get("playReason")),i.set("playRejected",!1),r.get("setup"))return n.play()||Promise.resolve();r.set("setup",!0);var a=this._loadAndPlay(e,n);return r.get("started")?a:this._playAttempt(a,t)},l.stop=function(){var t=this.provider;this.beforeComplete=!1,t.stop()},l.pause=function(){this.provider.pause()},l.preload=function(){var t=this.item,e=this.mediaModel,i=this.provider;!t||t&&"none"===t.preload||!this.attached||this.setup||this.preloaded||(e.set("preloaded",!0),i.preload(t))},l.destroy=function(){var t=this.provider,e=this.mediaModel;this.off(),e.off(),t.off(),this.eventQueue.destroy(),this.detach(),t.getContainer()&&t.remove(),delete t.instreamMode,this.provider=null,this.item=null},l.attach=function(){var t=this.model,e=this.provider;t.setPlaybackRate(t.get("defaultPlaybackRate")),e.attachMedia(),this.attached=!0,this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()},l.detach=function(){var t=this.provider;this.thenPlayPromise.cancel();var e=t.detachMedia();return this.attached=!1,e},l._playAttempt=function(t,e){var i=this,a=this.item,o=this.mediaModel,s=this.model,u=this.provider,c=u?u.video:null;return this.trigger(r.G,{item:a,playReason:e}),(c?c.paused:s.get(r.U)!==r.hb)||s.set(r.U,r.bb),t.then((function(){o.get("setup")&&(o.set("started",!0),o===s.mediaModel&&function(t){var e=t.get("mediaState");t.trigger("change:mediaState",t,e,e)}(o))})).catch((function(t){if(i.item&&o===s.mediaModel){if(s.set("playRejected",!0),c&&c.paused){if(c.src===location.href)return i._loadAndPlay(a,u);o.set("mediaState",r.gb)}var l=Object(n.f)(new v.l(null,Object(v.v)(t),t),{error:t,item:a,playReason:e});throw delete l.key,i.trigger(r.H,l),t}}))},l._playbackComplete=function(){var t=this.item,e=this.provider;t&&delete t.starttime,this.beforeComplete=!1,e.setState(r.cb),this.trigger(r.z,{})},l._loadAndPlay=function(){var t=this.item,e=this.provider,i=e.load(t);if(i){var r=g((function(){return e.play()||Promise.resolve()}));return this.thenPlayPromise=r,i.then(r.async)}return e.play()||Promise.resolve()},o=a,(s=[{key:"audioTrack",get:function(){return this.provider.getCurrentAudioTrack()},set:function(t){this.provider.setCurrentAudioTrack(t)}},{key:"quality",get:function(){return this.provider.getCurrentQuality()},set:function(t){this.provider.setCurrentQuality(t)}},{key:"audioTracks",get:function(){return this.provider.getAudioTracks()}},{key:"background",get:function(){if(!this.attached)return!1;var t=this.provider;return!t.getContainer()},set:function(t){var e=this.provider;e.video,e.getContainer()&&(t?this.background||(this.thenPlayPromise.cancel(),this.pause(),e.removeFromContainer?e.removeFromContainer():(console.error("Provider should implement `removeFromContainer()` to background provider media view. Calling `provider.setContainer(null)` instead."),e.setContainer(null)),this.container=null):(this.eventQueue.flush(),this.beforeComplete&&this._playbackComplete()))}},{key:"container",get:function(){return this.provider.getContainer()},set:function(t){this.provider.setContainer(t)}},{key:"mediaElement",get:function(){return this.provider.video}},{key:"preloaded",get:function(){return this.mediaModel.get("preloaded")}},{key:"qualities",get:function(){return this.provider.getQualityLevels()}},{key:"setup",get:function(){return this.mediaModel.get("setup")}},{key:"started",get:function(){return this.mediaModel.get("started")}},{key:"activeItem",set:function(t){var e=this.mediaModel=new P,i=t?Object(f.f)(t.starttime):0,r=t?Object(f.f)(t.duration):0,n=e.attributes;e.srcReset(),n.position=i,n.duration=r,this.item=t,this.provider.init(t),this.provider.mute(this.model.getMute()),this.provider.volume(this.model.get("volume"))}},{key:"controls",set:function(t){this.provider.setControls(t)}},{key:"mute",set:function(t){this.provider.mute(t)}},{key:"position",set:function(t){var e=this.provider;this.model.get("scrubbing")&&e.fastSeek?e.fastSeek(t):e.seek(t)}},{key:"subtitles",set:function(t){this.provider.setSubtitlesTrack&&this.provider.setSubtitlesTrack(t)}},{key:"volume",set:function(t){this.provider.volume(t)}}])&&I(o.prototype,s),u&&I(o,u),a}(m.a);var R=i(29);function T(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t){var e="function"==typeof Map?new Map:void 0;return(S=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return x(t,arguments,L(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),V(r,t)})(t)}function x(t,e,i){return(x=E()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return i&&V(n,i.prototype),n}).apply(null,arguments)}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){var e,i;function r(e){var i;return(i=t.call(this,e)||this).code=v.a,i}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,r}(S(Error)),N=function(){function t(t,e,i){var r=this;this.index=t,this.model=e,this.api=i,this.promise=new Promise((function(t,e){r.resolve=t,r.reject=e})),this.async=null,this.asyncPromise=null,this.rejected=!1}var e,i,r,n=t.prototype;return n.run=function(){var t=this,e=this.api,i=this.async,r=this.index,n=this.model,a=this.resolve,o=this.reject,s=this.promise,u=n.get("playlist"),c=this.getItem(r);if(!c){var l=-1===r?"No recs item":"No playlist item at index "+r;this.rejected=!0,o(new Error(l))}if(i){this.clear();var d=this.asyncPromise=i.call(e,c,r);d&&d.then?d.then((function(e){if(e&&e!==c&&u===n.get("playlist")){var i=t.replace(e);if(i)return void a(i)}a(c)})).catch((function(e){var i=new B("Item skipped by playlist item callback");i.sourceError=e,t.rejected=!0,o(i)})):this.asyncPromise=null}return this.asyncPromise||a(c),s},n.getItem=function(t){var e=this.model;return-1===t?e.get("nextUp"):e.get("playlist")[t]},n.replace=function(t){var e=this.index,i=this.model,r=Object(d.c)(i,new R.a(t),t.feedData||{});if(r){if(-1===e)i.set("nextUp",r);else i.get("playlist")[e]=r;return r}},n.clear=function(){this.async=null},e=t,(i=[{key:"callback",set:function(t){this.async=t}},{key:"skipped",get:function(){return this.rejected}}])&&T(e.prototype,i),r&&T(e,r),t}();function F(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t,e){var i=e.mediaControllerListener;t.off().on("all",i,e)}function q(t){return t&&t.sources&&t.sources[0]}var D=function(t){var e,i;function a(e,i,a){var o,s,u;return(o=t.call(this)||this).adPlaying=!1,o.apiContext=a,o.background=(s=null,u=null,Object.defineProperties({setNext:function(t,e){u={item:t,loadPromise:e}},isNext:function(t){return!(!u||JSON.stringify(u.item.sources[0])!==JSON.stringify(t.sources[0]))},updateNext:function(t){u&&(u.item=t)},clearNext:function(){u=null}},{nextLoadPromise:{get:function(){return u?u.loadPromise:null}},currentMedia:{get:function(){return s},set:function(t){s=t}}})),o.mediaPool=i,o.mediaController=null,o.mediaControllerListener=function(t,e){return function(i,a){switch(i){case r.U:return;case"flashThrottle":case"flashBlocked":return void t.set(i,a.value);case r.O:return void t.set(r.O,a[r.O]);case r.F:return void t.set(r.F,a[r.F]);case r.I:return void t.set("playbackRate",a.playbackRate);case r.E:Object(n.f)(t.get("itemMeta"),a.metadata);break;case r.D:t.persistQualityLevel(a.currentQuality,a.levels);break;case r.kb:t.persistVideoSubtitleTrack(a.currentTrack,a.tracks);break;case r.L:case r.J:case r.K:case r.Q:case r.jb:case"subtitlesTracksData":t.trigger(i,a);break;case r.i:return void t.persistBandwidthEstimate(a.bandwidthEstimate)}e.trigger(i,a)}}(e,function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(o)),o.model=e,o.providers=new p.a(e.getConfiguration()),o.loadPromise=null,o.backgroundLoading=e.get("backgroundLoading"),o.asyncItems=[],o.itemSetContext=0,e.set("mediaContainer",{}),o.backgroundLoading||e.set("mediaElement",o.mediaPool.getPrimedElement()),o}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o,s,u,c=a.prototype;return c.asyncActiveItem=function(t){var e=this,i=this.model;return this.getAsyncItem(t).run().then((function(t){return clearTimeout(-1),t})).catch((function(r){if(clearTimeout(-1),t<i.get("playlist").length-1)return e.setActiveItem(t+1).then((function(){return null}));throw r}))},c.setActiveItem=function(t){var e=this,i=this.background,r=this.mediaController,n=this.model,a=n.get("playlist")[t];n.attributes.itemReady=!1,r&&(r.mediaModel.off(),n.attributes.mediaModel=new P,n.mediaModel.attributes=r.mediaModel.clone()),i.isNext(a)||this._destroyBackgroundMedia();var o=this.itemSetContext=Math.random();return this.loadPromise=this.asyncActiveItem(t).then((function(a){if(null===a||o!==e.itemSetContext)return null;n.setActiveItem(t);var s=q(a);if(!s)return Promise.reject(new v.l(v.j,v.g));if(i.isNext(a))return e._destroyActiveMedia(),e._activateBackgroundMedia();if(r){if(n.get("castActive")||e._providerCanPlay(r.provider,s))return r.activeItem=a,e._setActiveMedia(r),r;e._destroyActiveMedia()}return e._setupMediaController(s).then((function(t){if(o===e.itemSetContext)return t.activeItem=a,e._setActiveMedia(t),t})).catch((function(t){throw e._destroyActiveMedia(),t}))}))},c.setAttached=function(t){var e=this.mediaController;if(this.attached=t,e){if(!t){var i=e.detach(),r=e.item,n=e.mediaModel.get("position");return n&&(r.starttime=n),i}e.attach()}},c.playVideo=function(t){var e,i=this,n=this.mediaController,a=this.model;if(!a.get("playlistItem"))return Promise.reject(new Error("No media"));if(t||(t=a.get("playReason")),n)e=n.play(t);else{a.set(r.U,r.bb);var o=g((function(e){if(i.mediaController&&i.mediaController.mediaModel===e.mediaModel)return e.play(t);throw new Error("Playback cancelled.")}));e=(this.loadPromise||Promise.resolve()).catch((function(t){throw o.cancel(),t})).then(o.async)}return e},c.stopVideo=function(){var t=this.mediaController,e=this.model,i=e.get("playlist")[e.get("item")];e.attributes.playlistItem=i,e.resetItem(i),t&&t.stop()},c.preloadVideo=function(){var t=this.background,e=this.mediaController||t.currentMedia;e&&e.preload()},c.pause=function(){var t=this.mediaController;t&&t.pause()},c.castVideo=function(t,e){var i=this.model;i.attributes.itemReady=!1;var r=Object(n.f)({},e),a=r.starttime=i.mediaModel.get("currentTime");this._destroyActiveMedia();var o=new j(t,i);o.activeItem=r,this._setActiveMedia(o),i.mediaModel.set("currentTime",a)},c.stopCast=function(){var t=this.model,e=t.get("item");t.get("playlist")[e].starttime=t.mediaModel.get("currentTime"),this.stopVideo(),this.setActiveItem(e).catch((function(){}))},c.backgroundActiveMedia=function(){this.adPlaying=!0;var t=this.background,e=this.mediaController;e&&(t.currentMedia&&this._destroyMediaController(t.currentMedia),e.background=!0,t.currentMedia=e,this.mediaController=null)},c.restoreBackgroundMedia=function(){this.adPlaying=!1;var t=this.background,e=this.mediaController,i=t.currentMedia;if(i){if(e&&e!==i)return this._destroyMediaController(i),void(t.currentMedia=null);var n=i.mediaModel.attributes;n.mediaState===r.eb?n.mediaState=r.gb:n.mediaState!==r.gb&&(n.mediaState=r.bb),this._setActiveMedia(i),i.background=!1,t.currentMedia=null}},c.backgroundLoad=function(t,e){var i=this,r=this.background,n=this.getAsyncItem(e).run().then((function(t){r.updateNext(t);var e=q(t);return i._setupMediaController(e).then((function(e){return e.activeItem=t,e.preload(),e}))})).catch((function(){r.clearNext()}));r.setNext(t,n)},c.forwardEvents=function(){var t=this.mediaController;t&&H(t,this)},c.routeEvents=function(t){var e=this.mediaController;e&&(e.off(),t&&H(e,t))},c.destroy=function(){this.off(),this._destroyBackgroundMedia(),this._destroyActiveMedia(),this.apiContext=null},c._setActiveMedia=function(t){var e=this.model,i=t.mediaModel,r=t.provider;!function(t,e){var i=t.get("mediaContainer");i?e.container=i:t.once("change:mediaContainer",(function(t,i){e.container=i}))}(e,t),this.mediaController=t,e.set("mediaElement",t.mediaElement),e.setMediaModel(i),e.setProvider(r),H(t,this),e.set("itemReady",!0)},c._destroyActiveMedia=function(){var t=this.mediaController,e=this.model;t&&t.provider&&(t.detach(),this._destroyMediaController(t),e.resetProvider(),this.mediaController=null)},c._destroyBackgroundMedia=function(){var t=this.background;this._destroyMediaController(t.currentMedia),t.currentMedia=null,this._destroyBackgroundLoadingMedia()},c._destroyMediaController=function(t){var e=this.mediaPool;t&&(e.recycle(t.mediaElement),t.destroy())},c._setupMediaController=function(t){var e=this,i=this.model,r=this.providers,n=function(t){return new j(new t(i.get("id"),i.getConfiguration(),e.primedElement),i)},a=r.choose(t),o=a.provider,s=a.name;return o?Promise.resolve(n(o)):r.load(s).then((function(t){return n(t)}))},c._activateBackgroundMedia=function(){var t=this,e=this.background,i=this.background.nextLoadPromise,r=this.model;return this._destroyMediaController(e.currentMedia),e.currentMedia=null,i.then((function(i){if(i)return e.clearNext(),t.adPlaying?(r.attributes.itemReady=!0,e.currentMedia=i):(t._setActiveMedia(i),i.background=!1),i}))},c._destroyBackgroundLoadingMedia=function(){var t=this,e=this.background,i=this.background.nextLoadPromise;i&&i.then((function(i){t._destroyMediaController(i),e.clearNext()}))},c._providerCanPlay=function(t,e){var i=this.providers.choose(e).provider;return i&&t&&t instanceof i},c.setMute=function(t){var e=this.background,i=this.mediaController;this.mediaPool;i&&(i.mute=t),e.currentMedia&&(e.currentMedia.mute=t)},c.setVolume=function(t){var e=this.background,i=this.mediaController;this.mediaPool;i&&(i.volume=t),e.currentMedia&&(e.currentMedia.volume=t)},c.getAsyncItem=function(t){var e=this.asyncItems[t];return e||((e=this.asyncItems[t]=new N(t,this.model,this.apiContext)).callback=this.model.get("playlistItemCallback")),e},c.clearItemPromises=function(){this.asyncItems.forEach((function(t){t&&t.reject(new Error("Item playback aborted"))})),this.asyncItems.length=0},o=a,(s=[{key:"audioTrack",get:function(){var t=this.mediaController;return t?t.audioTrack:-1},set:function(t){var e=this.mediaController;e&&(e.audioTrack=parseInt(t,10)||0)}},{key:"audioTracks",get:function(){var t=this.mediaController;if(t)return t.audioTracks}},{key:"beforeComplete",get:function(){var t=this.mediaController,e=this.background.currentMedia;return!(!t&&!e)&&(t?t.beforeComplete:e.beforeComplete)}},{key:"primedElement",get:function(){return this.backgroundLoading?this.mediaPool.getPrimedElement():this.model.get("mediaElement")}},{key:"quality",get:function(){return this.mediaController?this.mediaController.quality:-1},set:function(t){var e=this.mediaController;e&&(e.quality=parseInt(t,10)||0)}},{key:"qualities",get:function(){var t=this.mediaController;return t?t.qualities:null}},{key:"controls",set:function(t){var e=this.mediaController;e&&(e.controls=t)}},{key:"position",set:function(t){var e=this.mediaController;e&&(e.item.starttime=t,e.attached&&(e.position=t))}},{key:"subtitles",set:function(t){var e=this.mediaController;e&&(e.subtitles=t)}},{key:"itemCallback",set:function(t){this.model.set("playlistItemCallback",t),this.asyncItems.forEach((function(e){e&&(e.callback=t)}))}}])&&F(o.prototype,s),u&&F(o,u),a}(m.a);function Q(t){return t===r.cb||t===r.db?r.eb:t}function U(t,e,i){if((e=Q(e))!==(i=Q(i))){var n=e.replace(/(?:ing|d)$/,""),a={type:n,newstate:e,oldstate:i,reason:function(t,e){return t===r.bb?e===r.ib?e:r.fb:e}(e,t.mediaModel.get("mediaState"))};"play"===n?a.playReason=t.get("playReason"):"pause"===n&&(a.pauseReason=t.get("pauseReason")),this.trigger(n,a)}}function z(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var W=function(t){var e,i;function a(e,i){var r,n=(r=t.call(this,e,i)||this).model=new A;return r.playerModel=e,r.provider=null,r.backgroundLoading=e.get("backgroundLoading"),n.mediaModel.attributes.mediaType="video",r}i=t,(e=a).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o,s,u,c=a.prototype;return c.setup=function(){var t=this.model,e=this.playerModel,i=(this.primedElement,e.attributes),n=e.mediaModel;t.setup({id:i.id,volume:i.volume,instreamMode:!0,edition:i.edition,mediaContext:n,mute:i.mute,streamType:"VOD",autostartMuted:i.autostartMuted,autostart:i.autostart,advertising:i.advertising,sdkplatform:i.sdkplatform,skipButton:!1}),t.on("change:state",U,this),t.on(r.t,(function(t){this.trigger(r.t,t)}),this)},c.setActiveItem=function(e){var i=this;return this.stopVideo(),this.provider=null,t.prototype.setActiveItem.call(this,e).then((function(t){return i._setProvider(t.provider),i.playVideo()}))},c.usePsuedoProvider=function(t){t&&(this._setProvider(t),t.off(r.t),t.on(r.t,(function(t){this.trigger(r.t,t)}),this))},c._setProvider=function(t){var e=this;if(t&&this.mediaPool){this.provider=t;var i=this.model,a=this.playerModel,o="vpaid"===t.type;t.off(),t.on("all",(function(t,e){o&&t===r.z||this.trigger(t,Object(n.f)({},e,{type:t}))}),this);var s=i.mediaModel;t.on(r.U,(function(t){t.oldstate=t.oldstate||i.get(r.U),s.set("mediaState",t.newstate)})),t.on(r.Q,this._nativeFullscreenHandler,this),s.on("change:mediaState",(function(t,i){e._stateHandler(i)})),t.attachMedia();var u=a.get("mediaContainer");t.setContainer(u),t.volume(a.get("volume")),t.mute(a.getMute()),t.setPlaybackRate&&t.setPlaybackRate(1),a.on("change:volume",(function(t,e){this.volume=e}),this),a.on("change:mute",(function(t,e){this.mute=e,e||(this.volume=a.get("volume"))}),this),a.on("change:autostartMuted",(function(t,e){e||(i.set("autostartMuted",e),this.mute=a.get("mute"))}),this)}},c.destroy=function(){var t=this.mediaController,e=this.model;this.mediaPool,this.playerModel;e.off(),this.provider&&(this.provider.remove(),this.provider=null,t.destroy())},c.srcReset=function(){var t=this.playerModel,e=t.get("mediaModel"),i=t.getVideo();e.srcReset(),i&&(i.src=null)},c._nativeFullscreenHandler=function(t){this.model.trigger(r.Q,t),this.trigger(r.u,{fullscreen:t.jwstate})},c._stateHandler=function(t){var e=this.model;switch(t){case r.hb:case r.gb:e.set(r.U,t)}},o=a,(s=[{key:"mute",set:function(e){var i=this.mediaController,r=this.model,n=this.provider;r.set("mute",e),t.prototype.setMute.call(this,e),i||n.mute(e)}},{key:"volume",set:function(e){var i=this.mediaController,r=this.model,n=this.provider;r.set("volume",e),t.prototype.setVolume.call(this,e),i||n.volume(e)}}])&&z(o.prototype,s),u&&z(o,u),a}(D),J={skipoffset:null,tag:null},G=function(t,e,i,a){var o,s,u,c,l=this,d=this,m=new W(e,a),p=0,g={},v=null,y={},b=x,k=!1,M=!1,C=!1,w=!1,_=function(t){M||((t=t||{}).hasControls=!!e.get("controls"),l.trigger(r.v,t),m.model.get("state")===r.gb?t.hasControls&&m.playVideo().catch((function(){})):m.pause())},P=function(){M||m.model.get("state")===r.gb&&e.get("controls")&&(t.setFullscreen(),t.play())};function A(){m.model.set("playRejected",!0)}function I(){p++,d.loadItem(o).catch((function(){}))}function O(t,e){"complete"!==t&&(e=e||{},y.tag&&!e.tag&&(e.tag=y.tag),this.trigger(t,e),"mediaError"!==t&&"error"!==t||this.loadNextItemOnError())}function j(t){var e=t.newstate,i=t.oldstate||m.model.get("state");i!==e&&R(Object(n.f)({oldstate:i},g,t))}function R(e){var i=e.newstate;i===r.hb?t.trigger(r.c,e):i===r.gb&&t.trigger(r.b,e)}function T(e){var i=e.duration,r=e.position,n=m.model.mediaModel||m.model;n.set("duration",i),n.set("position",r),c||(c=(Object(f.c)(u,i)||i)-h.b),!k&&r>=Math.max(c,h.a)&&(t.preloadNextItem(),k=!0)}function S(t){var e={};y.tag&&(e.tag=y.tag),this.trigger(r.z,e),x.call(this,t)}function x(t){g={},o&&p+1<o.length?I():(t.type===r.z&&this.trigger(r.V,{}),this.destroy())}function E(){!M&&i&&i.clickHandler()&&i.clickHandler().setAlternateClickHandlers(_,P)}function V(t){t.width&&t.height&&i&&i.resizeMedia()}this.init=function(){if(!C&&!M){if(C=!0,g={},m.setup(),m.on("all",O,this),m.on(r.H,A,this),m.on(r.L,T,this),m.on(r.z,S,this),m.on(r.E,V,this),m.on(r.U,j,this),v=t.detachMedia(),e.set("instream",m),m.model.set("state",r.bb),i){var n=i.clickHandler();n&&n.setAlternateClickHandlers((function(){}),null)}return this.setText(e.get("localization").loadingAd),w=t.isBeforeComplete()||e.get("state")===r.cb,this}},this.enableAdsMode=function(n){var a=this;if(!C&&!M)return t.routeEvents({mediaControllerListener:function(t,e){a.trigger(t,e)}}),e.set("instream",m),m.model.set("state",r.hb),function(n){if(!i)return;var a=i.clickHandler();a&&a.setAlternateClickHandlers((function(i){M||((i=i||{}).hasControls=!!e.get("controls"),d.trigger(r.v,i),n&&(e.get("state")===r.gb?t.playVideo():(t.pause(),n&&(t.trigger(r.a,{clickThroughUrl:n}),window.open(n)))))}),null)}(n),this},this.setEventData=function(t){g=t},this.setState=function(t){var e=t.newstate,i=m.model;t.oldstate=i.get("state"),i.set("state",e),R(t)},this.setTime=function(e){T(e),t.trigger(r.e,e)},this.loadNextItemOnError=function(){o&&p+1<o.length&&I()},this.loadItem=function(t,i){if(M||!C)return Promise.reject(new Error("Instream not setup"));g={};var a=t;Array.isArray(t)?(s=i||s,t=(o=t)[p],s&&(i=s[p])):a=[t],a=a.map((function(t){var e=Object(n.f)({},t);return delete e.vastAd,e}));var c=m.model;c.set("playlist",a),e.set("hideAdsControls",!1),t.starttime=0,d.trigger(r.W,{index:p,item:t}),y=Object(n.f)({},J,i),E(),c.set("skipButton",!1);var l=!e.get("backgroundLoading")&&v?v.then((function(){return m.setActiveItem(p)})):m.setActiveItem(p);return k=!1,void 0!==(u=t.skipoffset||y.skipoffset)&&d.setupSkipButton(u,y),l},this.setupSkipButton=function(t,e,i){var r=m.model;b=i||x,r.set("skipMessage",e.skipMessage),r.set("skipText",e.skipText),r.set("skipOffset",t),r.attributes.skipButton=!1,r.set("skipButton",!0)},this.applyProviderListeners=function(t){m.usePsuedoProvider(t),E()},this.play=function(){g={},m.playVideo()},this.pause=function(){g={},m.pause()},this.skipAd=function(t){var i=e.get("autoPause").pauseAds,n="autostart"===e.get("playReason"),a=e.get("viewable");!i||n||a||(this.noResume=!0);var o=r.d;this.trigger(o,t),b.call(this,{type:o})},this.replacePlaylistItem=function(t){M||(e.set("playlistItem",t),m.srcReset())},this.destroy=function(){M||(M=!0,this.trigger("destroyed"),this.off(),i&&i.clickHandler()&&i.clickHandler().revertAlternateClickHandlers(),e.off(null,null,m),m.off(null,null,d),m.destroy(),C&&m.model&&(e.attributes.state=r.gb),t.forwardEvents(),e.set("instream",null),m=null,g={},v=null,C&&!e.attributes._destroyed&&(t.attachMedia(),this.noResume||(w?t.stopVideo():t.playVideo())))},this.getState=function(){return!M&&m.model.get("state")},this.setText=function(t){return M||!i||i.setAltText(t||""),this},this.hide=function(){M||e.set("hideAdsControls",!0)},this.getMediaElement=function(){return M?null:m.primedElement},this.setSkipOffset=function(t){u=t>0?t:null,m&&m.model.set("skipOffset",u)}};Object(n.f)(G.prototype,m.a);var K=G;function X(t,e){var i="VOD";return t===1/0?i="LIVE":t<0&&(i=function(t,e){return t!==1/0&&Math.abs(t)>=Math.max(Y(e),0)}(t,Y(e))?"DVR":"LIVE"),i}function Y(t){return void 0===t?120:Math.max(t,0)}var Z=i(44),$=i(21);var tt=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.prototype.getFirstFrame=function(){var t=this.between(r.G,r.B),e=this.between("tabVisible",r.B);return e&&t&&e>0&&e<t?e:t},n}($.a);function et(t,e){e.off(r.G,t._onPlayAttempt),e.off(r.Y,t._triggerFirstFrame),e.off(r.L,t._onTime),t.off("change:activeTab",t._onTabVisible)}var it=function(t,e){t.change("mediaModel",(function(t,i,n){t._qoeItem&&n&&t._qoeItem.end(n.get("mediaState")),t._qoeItem=new tt,t._qoeItem.tick(r.W),t._qoeItem.start(i.get("mediaState")),function(t,e){t._onTabVisible&&et(t,e);var i,n,a=!1;t._triggerFirstFrame=function(){if(!a){a=!0;var i=t._qoeItem;i.tick(r.B);var n=i.getFirstFrame();if(e.trigger(r.B,{loadTime:n}),e.mediaController){var o=e.mediaController.mediaModel;o.off("change:"+r.N,null,o),o.change(r.N,(function(t,i){i&&e.trigger(r.N,i)}),o)}et(t,e)}},t._onTime=(i=t._triggerFirstFrame,n=0,function(t){var e=t.position;e>n&&i(),n=e}),t._onPlayAttempt=function(){t._qoeItem.tick(r.G)},t._onTabVisible=function(e,i){i?t._qoeItem.tick("tabVisible"):t._qoeItem.tick("tabHidden")},t.on("change:activeTab",t._onTabVisible),e.on(r.G,t._onPlayAttempt),e.once(r.Y,t._triggerFirstFrame),e.on(r.L,t._onTime)}(t,e),i.on("change:mediaState",(function(e,i,r){i!==r&&(t._qoeItem.end(r),t._qoeItem.start(i))}))}))};var rt=function(){},nt=function(){};rt.prototype.set=function(t,e){return this._model.set(t,e)},Object(n.f)(rt.prototype,{setup:function(t,e,i,f,p,y){var k,M,C=this,w=this,_=w._model=new A,P=!1,I=!1,O=null,j=g(B),R=g(nt);w.originalContainer=w.currentContainer=i,w._events=f,w.trigger=function(t,e){var i=function(t,e,i){var r=i;switch(e){case"time":case"beforePlay":case"pause":case"play":case"ready":var a=t.get("viewable");void 0!==a&&(r=Object(n.f)({},i,{viewable:a}))}return r}(_,t,e);return m.a.trigger.call(this,t,i)};var T=new c.a(w,["trigger"],(function(){return!0})),S=function(t,e){w.trigger(t,e)};_.setup(t);var x=_.get("backgroundLoading");_.attributes.visibility=1;var E=this._programController=new D(_,y,e._publicApi);ht(),E.on("all",S,w).on("subtitlesTracks",(function(t){}),w).on(r.z,(function(){Promise.resolve().then(ut)}),w).on(r.A,w.triggerError,w),it(_,E),_.on(r.t,w.triggerError,w),_.on("change:state",(function(t,e,i){W()||U.call(C,t,e,i)}),this),_.on("change:castState",(function(t,e){w.trigger(r.l,e)})),_.on("change:fullscreen",(function(t,e){w.trigger(r.u,{fullscreen:e}),e&&t.set("playOnViewable",!1)})),_.on("change:volume",(function(t,e){w.trigger(r.O,{volume:e})})),_.on("change:mute",(function(t){w.trigger(r.F,{mute:t.getMute()})})),_.on("change:playbackRate",(function(t,e){w.trigger(r.T,{playbackRate:e,position:t.get("position")})}));var V=function t(e,i){"clickthrough"!==i&&"interaction"!==i&&"external"!==i||(_.set("playOnViewable",!1),_.off("change:playReason change:pauseReason",t))};function L(t,e){Object(n.o)(e)||_.set("viewable",Math.round(e))}function B(){ft&&(!0!==_.get("autostart")||_.get("playOnViewable")||tt("autostart"),ft.flush())}function N(t,e){w.trigger("viewable",{viewable:e}),F()}function F(){a.a[0]!==e&&1!==_.get("viewable")||"idle"===_.get("state")&&!1===_.get("autostart")&&E.preloadVideo()}function H(t){w._instreamAdapter.noResume=!t,t||rt({reason:"viewable"})}function q(t){t||(w.pause({reason:"viewable"}),_.set("playOnViewable",!t))}function Q(t,e){var i=W();if(t.get("playOnViewable")){if(e){var n=t.get("autoPause").pauseAds,a=t.get("pauseReason");J()===r.eb?tt("viewable"):i&&!n||"interaction"===a||G({reason:"viewable"})}else b.OS.mobile&&!i&&(w.pause({reason:"autostart"}),_.set("playOnViewable",!0));b.OS.mobile&&i&&H(e)}}function z(t,e){var i=t.get("state"),n=W(),a=t.get("playReason");n?t.get("autoPause").pauseAds?q(e):H(e):i===r.hb||i===r.bb?q(e):i===r.eb&&"playlist"===a&&t.once("change:state",(function(){q(e)}))}function W(){var t=w._instreamAdapter;return!!t&&t.getState()}function J(){var t=W();return t||_.get("state")}function G(t){if(j.cancel(),I=!1,_.get("state")===r.db)return Promise.resolve();var i=$(t);return _.set("playReason",i),W()?(e.pauseAd(!1,t),Promise.resolve()):_.get("state")===r.cb?(et(!0),w.setItemIndex(0).then((function(){return Y(t,i)}))):Y(t,i)}function Y(t,e){if(!P&&(P=!0,w.trigger(r.x,{playReason:e,startTime:t&&t.startTime?t.startTime:_.get("playlistItem").starttime}),P=!1,Object(Z.a)()&&!y.primed()&&y.prime(),"playlist"===e&&_.get("autoPause").viewability&&z(_,_.get("viewable")),M)){if(Object(Z.a)()&&!x){var i=_.get("mediaElement");w._instreamAdapter&&(i.src=""),i.load()}return M=!1,k=null,Promise.resolve()}return E.playVideo(e).then(y.played)}function $(t){return t&&t.reason?t.reason:"unknown"}function tt(t){if(J()===r.eb){j=g(B);var e=_.get("advertising");Promise.resolve.bind(Promise)(y,{cancelable:j,muted:w.getMute(),allowMuted:!e||e.autoplayadsmuted}).then((function(e){return _.set("canAutoplay",e),!0!==e||w.getMute()||(_.set("autostartMuted",!0),ht(),_.once("change:autostartMuted",(function(t){t.off("change:viewable",Q),w.trigger(r.F,{mute:_.getMute()})}))),G({reason:t}).catch((function(){w._instreamAdapter||_.set("autostartFailed",!0),k=null}))})).catch((function(t){if(_.set("canAutoplay",!0),_.set("autostart",!1),!j.cancelled()){var e=Object(v.v)(t);w.trigger(r.h,{reason:t.reason,code:e,error:t})}}))}}function et(t){if(j.cancel(),ft.empty(),W()){var e=w._instreamAdapter;return e&&(e.noResume=!0),void(k=function(){return E.stopVideo()})}k=null,!t&&(I=!0),P&&(M=!0),_.set("errorEvent",void 0),E.stopVideo()}function rt(t){var e=$(t);_.set("pauseReason",e),_.set("playOnViewable","viewable"===e)}function at(t){k=null,j.cancel();var i=W();if(i&&i!==r.gb)return rt(t),void e.pauseAd(!0,t);switch(_.get("state")){case r.db:return;case r.hb:case r.bb:rt(t),E.pause();break;default:P&&(M=!0)}}function ot(t,e){w.instreamDestroy(),et(!0),w.setItemIndex(t),w.play(e)}function st(t){ot(_.get("item")+1,t)}function ut(){w.completeCancelled()||(k=w.completeHandler,w.shouldAutoAdvance()?w.nextItem():_.get("repeat")?st({reason:"repeat"}):(b.OS.iOS&&dt(!1),_.set("playOnViewable",!1),_.set("state",r.cb),w.trigger(r.V,{})))}function ct(t,e){t=parseInt(t,10)||0,_.persistVideoSubtitleTrack(t,e),E.subtitles=t,w.trigger(r.j,{tracks:lt(),track:t})}function lt(){return[]}function dt(t){Object(n.j)(t)||(t=!_.get("fullscreen")),_.set("fullscreen",t),w._instreamAdapter&&w._instreamAdapter._adModel&&w._instreamAdapter._adModel.set("fullscreen",t)}function ht(){E.setMute(_.getMute()),E.setVolume(_.get("volume"))}_.on("change:playReason change:pauseReason",V),w.on(r.c,(function(t){return V(0,t.playReason)})),w.on(r.b,(function(t){return V(0,t.pauseReason)})),_.on("change:scrubbing",(function(t,e){e?(O=_.get("state")!==r.gb,at()):O&&G({reason:"interaction"})})),_.on("change:captionsList",(function(t,e){w.trigger(r.k,{tracks:e,track:_.get("captionsIndex")||0})})),_.on("change:mediaModel",(function(t,e){var i=this;t.set("errorEvent",void 0),e.change("mediaState",(function(e,i){var n;t.get("errorEvent")||t.set(r.U,(n=i)===r.fb||n===r.ib?r.bb:n)}),this),e.change("duration",(function(e,i){if(0!==i){var r=X(i,t.get("minDvrWindow"));t.setStreamType(r)}}),this);var n="autoplay"===(t.get("related")||{}).oncomplete,a=t.get("item")+1,o=t.get("playlist")[a];if(o||n){e.on("change:position",(function t(r,s){if(n&&!o&&(a=-1,o=_.get("nextUp")),o&&!o.daiSetting){var u=e.get("duration");s&&u>0&&s>=u-h.b&&(e.off("change:position",t,i),x?E.backgroundLoad(o,a):E.getAsyncItem(a).run())}}),this)}})),this.playerReady=function(){(function(){_.change("visibility",L),T.off(),w.trigger(r.Z,{setupTime:0}),_.change("playlist",(function(t,e){if(e.length){var i={playlist:e},a=_.get("feedData");a&&(i.feedData=Object(n.f)({},a)),w.trigger(r.X,i)}})),_.change("playlistItem",(function(t,e){if(e){var i=e.title,n=e.image;if("mediaSession"in navigator&&window.MediaMetadata&&(i||n))try{navigator.mediaSession.metadata=new window.MediaMetadata({title:i,artist:window.location.hostname,artwork:[{src:n||""}]})}catch(t){}t.set("cues",[]),w.trigger(r.W,{index:_.get("item"),item:e})}})),T.flush(),T.destroy(),T=null,_.change("viewable",N),_.change("viewable",Q),_.get("autoPause").viewability?_.change("viewable",z):_.once("change:autostartFailed change:mute",(function(t){t.off("change:viewable",Q)}));B(),_.on("change:itemReady",(function(t,e){e&&ft.flush()}))})()},this.preload=F,this.load=function(t,e){var i,n=w._instreamAdapter;switch(n&&(n.noResume=!0),w.trigger("destroyPlugin",{}),et(!0),E.clearItemPromises(),j.cancel(),j=g(B),R.cancel(),Object(Z.a)()&&y.prime(),typeof t){case"string":_.attributes.item=0,_.attributes.itemReady=!1,R=g((function(t){if(t)return w.updatePlaylist(Object(d.a)(t.playlist),t)})),i=function(t){var e=this;return new Promise((function(i,n){var a=new l.a;a.on(r.X,(function(t){i(t)})),a.on(r.t,n,e),a.load(t)}))}(t).then(R.async);break;case"object":_.attributes.item=0,i=w.updatePlaylist(Object(d.a)(t),e||{});break;case"number":i=w.setItemIndex(t);break;default:return}i.catch((function(t){w.triggerError(Object(v.t)(t,v.b))})),i.then(j.async).catch(nt)},this.play=function(t){return G(t).catch(nt)},this.pause=at,this.seek=function(t,e){var i=_.get("state");if(i!==r.db){E.position=t;var n=i===r.eb;_.get("scrubbing")||!n&&i!==r.cb||(n&&((e=e||{}).startTime=t),this.play(e))}},this.stop=et,this.playlistItem=ot,this.playlistNext=st,this.playlistPrev=function(t){ot(_.get("item")-1,t)},this.setCurrentCaptions=ct,this.setCurrentQuality=function(t){E.quality=t},this.setFullscreen=dt,this.getCurrentQuality=function(){return E.quality},this.getQualityLevels=function(){return E.qualities},this.setCurrentAudioTrack=function(t){E.audioTrack=t},this.getCurrentAudioTrack=function(){return E.audioTrack},this.getAudioTracks=function(){return E.audioTracks},this.getCurrentCaptions=function(){return-1},this.getCaptionsList=lt,this.getVisualQuality=function(){var t=this._model.get("mediaModel");return t?t.get(r.N):null},this.getConfig=function(){return this._model?this._model.getConfiguration():void 0},this.getState=J,this.next=nt,this.completeHandler=ut,this.completeCancelled=function(){return(t=_.get("state"))!==r.eb&&t!==r.cb&&t!==r.db||!!I&&(I=!1,!0);var t},this.shouldAutoAdvance=function(){return _.get("item")!==_.get("playlist").length-1},this.nextItem=function(){st({reason:"playlist"})},this.setConfig=function(t){!function(t,e){var i=t._model,r=i.attributes;if(e.height&&(e.height=Object(s.b)(e.height),e.width=e.width||r.width),e.width&&(e.width=Object(s.b)(e.width),e.aspectratio?(r.width=e.width,delete e.width):e.height=r.height),e.width&&e.height&&!e.aspectratio&&t._view.resize(e.width,e.height),e.floating){var a=i.get("floating")||{},o=Object(n.f)({},a,e.floating);-1===u.indexOf(o.mode)?delete e.floating:e.floating=o}Object.keys(e).forEach((function(n){var a=e[n];if(void 0!==a)switch(n){case"aspectratio":i.set(n,Object(s.a)(a,r.width));break;case"autostart":!function(t,e,i){t.setAutoStart(i),"idle"===t.get("state")&&!0===i&&e.play({reason:"autostart"})}(i,t,a);break;case"mute":t.setMute(a);break;case"volume":t.setVolume(a);break;case"playbackRateControls":case"playbackRates":case"repeat":case"stretching":case"floating":i.set(n,a)}}))}(w,t)},this.setItemIndex=function(t){E.stopVideo();var e=_.get("playlist").length,i=Object(d.e)(t,e);return E.setActiveItem(i).catch((function(t){if(t.code===v.a){if(E.asyncItems.reduce((function(t,e){return t&&e.skipped}),!0))throw t;var e=C.shouldAutoAdvance;return C.shouldAutoAdvance=function(){return!1},ut(),_.attributes.itemReady=!0,void(C.shouldAutoAdvance=e)}t.code>=151&&t.code<=162&&(t=Object(v.t)(t,v.d)),C.triggerError(Object(v.u)(v.j,v.c,t))}))},this.detachMedia=function(){if(P&&(M=!0),_.get("autoPause").viewability&&z(_,_.get("viewable")),!x)return E.setAttached(!1);E.backgroundActiveMedia()},this.attachMedia=function(){x?E.restoreBackgroundMedia():E.setAttached(!0),"function"==typeof k&&k()},this.routeEvents=function(t){return E.routeEvents(t)},this.forwardEvents=function(){return E.forwardEvents()},this.playVideo=function(t){return E.playVideo(t)},this.stopVideo=function(){return E.stopVideo()},this.castVideo=function(t,e){return E.castVideo(t,e)},this.stopCast=function(){return E.stopCast()},this.backgroundActiveMedia=function(){return E.backgroundActiveMedia()},this.restoreBackgroundMedia=function(){return E.restoreBackgroundMedia()},this.preloadNextItem=function(){E.background.currentMedia&&E.preloadVideo()},this.isBeforeComplete=function(){return E.beforeComplete},this.setVolume=function(t){_.setVolume(t),ht()},this.setMute=function(t){_.setMute(t),ht()},this.setPlaybackRate=function(t){_.setPlaybackRate(t)},this.getProvider=function(){return _.get("provider")},this.getWidth=function(){return _.get("containerWidth")},this.getHeight=function(){return _.get("containerHeight")},this.getItemQoe=function(){return _._qoeItem},this.setItemCallback=function(t){E.itemCallback=t},this.getItemPromise=function(t){var e=_.get("playlist");if(t<-1||t>e.length-1||isNaN(t))return null;var i=E.getAsyncItem(t);return i?i.promise:null},this.addButton=function(t,e,i,r,n){var a=_.get("customButtons")||[],o=!1,s={img:t,tooltip:e,callback:i,id:r,btnClass:n};a=a.reduce((function(t,e){return e.id===r?(o=!0,t.push(s)):t.push(e),t}),[]),o||a.unshift(s),_.set("customButtons",a)},this.removeButton=function(t){var e=_.get("customButtons")||[];e=e.filter((function(e){return e.id!==t})),_.set("customButtons",e)},this.resize=this.setCaptions=function(){},this.getSafeRegion=function(){return{x:0,y:0,width:0,height:0}},this.checkBeforePlay=function(){return P},this.setControls=function(t){},this.addCues=function(t){this.setCues(_.get("cues").concat(t))},this.setCues=function(t){_.set("cues",t)},this.updatePlaylist=function(t,e){try{var i=Object(d.b)(t,_,e);Object(d.d)(i);var r=Object(n.f)({},e);delete r.playlist,_.set("feedData",r),_.set("playlist",i)}catch(t){return Promise.reject(t)}return this.setItemIndex(_.get("item"))},this.setPlaylistItem=function(t,e){var i=_.get("playlist"),r=Object(d.e)(t,i.length),n=E.getAsyncItem(r);if(n.replace(e)){var a=i[r];e&&e!==a&&(E.asyncItems[r]=null,n.reject(new Error("Item replaced"))),r===_.get("item")&&"idle"===_.get("state")&&this.setItemIndex(r)}},this.playerDestroy=function(){this.off(),this.stop(),Object(o.b)(this,this.originalContainer),_&&_.destroy(),ft&&ft.destroy(),E&&E.destroy(),this.instreamDestroy()},this.isBeforePlay=this.checkBeforePlay,this.createInstream=function(){return this.instreamDestroy(),this._instreamAdapter=new K(this,_,void 0,y),this._instreamAdapter},this.instreamDestroy=function(){w._instreamAdapter&&(w._instreamAdapter.destroy(),w._instreamAdapter=null)};var ft=new c.a(this,["play","pause","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen"],(function(){return!C._model.get("itemReady")||T}));ft.queue.push.apply(ft.queue,p)},get:function(t){if(t in M.a){var e=this._model.get("mediaModel");return e?e.get(t):M.a[t]}return this._model.get(t)},getContainer:function(){return this.currentContainer||this.originalContainer},getMute:function(){return this._model.getMute()},triggerError:function(t){var e=this._model;t.message=e.get("localization").errors[t.key],delete t.key,e.set("errorEvent",t),e.set("state",r.db),e.once("change:state",(function(){this.set("errorEvent",void 0)}),e),this.trigger(r.t,t)}});var at=rt,ot=function(t,e){var i=t._model,a=t._view,o=!1,s=e.height,u=e.width,c=t.getHeight;t.getHeight=function(){var t=i.get("aspectratio");return t?Math.round(i.get("containerWidth")*parseFloat(t)/100):s};var l=t.getWidth;t.getWidth=function(){return Object(n.m)(u)?u:l.call(this)},i.setAutoStart("viewable"),t.setMute(!0),t.setItemIndex=function(){return i.setActiveItem(0),Promise.resolve()},t.updatePlaylist=function(){return i.set("playlist",[{sources:[{}]}]),i.attributes.itemReady=!0,this.setItemIndex(0)};var d=t.createInstream;t.createInstream=function(){var e=d.call(this);return e.noResume=!0,o=!1,e.on("state",(function(e){var i=e.newstate;i!==r.fb&&i!==r.hb||(t.attachMedia=f,t.getHeight=c,t.getWidth=l,a&&(a.resize=void 0),o=!0)})),e};var h=t.attachMedia;t.attachMedia=t.playerDestroy;var f=function(){return o||i.set("repeat",!1),i.get("backgroundLoading")||this._programController.mediaPool.clean(),i.set("state",r.cb),this._programController.trigger(r.z,{}),h.call(this)};t._programController.playVideo=function(){return Promise.resolve()}};var st=function(t){var e,i,r=!1;return t&&((i=document.createElement("div")).className="afs_ads",i.innerHTML="&nbsp;",i.style.width="1px",i.style.height="1px",i.style.position="absolute",i.style.background="transparent",e=i,t.element().appendChild(e)),{onReady:function(){if(r)return!0;(function(){t&&document.body.contains(t.element())&&(null!==e.offsetParent&&"afs_ads"===e.className&&""!==e.innerHTML&&0!==e.clientHeight||(r=!0));return r})()&&this.trigger("adBlock")},getAdBlock:function(){return r}}};i(46);var ut,ct,lt=i(43);function dt(t,e,i){var r=function(){try{ut=window.localStorage.jwplayerLocalId}catch(t){}return ut=ut||Object(lt.a)(12)}();t.forEach((function(t){var n=t.variations;if(n&&n[e]){n.selected=n.selected||{};var a=function(t,e){for(var i=function(t){for(var e=1794770992,i=0,r=t.length;i<r;i++)e^=t.charCodeAt(i),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}(t)%2520,r=e.reduce((function(t,e){return t+e.weight}),0),n=0,a=0;a<e.length;a++){var o=e[a];if((n+=2520*o.weight/r)>i)return o}}(r,n[e]),o=a[i];o&&(t[i]=o,n.selected[e]=a)}}))}var ht=[],ft=!1;function mt(t,e){ft||(setTimeout((function(){ht.push(function(t,e){var i=Object(n.g)(t.sources,(function(t){return"video/mp4"===t.type}));i||(i=t.sources[0]);var r,a=t.pubdate?new Date(1e3*t.pubdate):null,o=e.getConfig(),s=t.mediaid&&o.pid?"https://cdn.jwplayer.com/players/"+t.mediaid+"-"+o.pid+".html":null,u=e.get("duration");u&&(r="PT"+Math.floor(u/60)+"M"+Math.round(u)%60+"S");return{"@context":"https://schema.org","@type":"VideoObject",name:t.title,description:t.description,thumbnailUrl:t.image,uploadDate:a?a.toISOString():void 0,duration:r,contentUrl:i.file,embedUrl:s?'<iframe src="'+s+'" frameborder="0" scrolling="auto" allowfullscreen></iframe>':void 0}}(t,e))}),750),clearTimeout(ct),ct=setTimeout((function(){var t=document.createElement("script");t.setAttribute("type","application/ld+json"),t.setAttribute("id","__jw-ld-json"),ht.length>1?t.innerText=JSON.stringify(ht):t.innerText=JSON.stringify(ht[0]),document.head.appendChild(t),ft=!0}),1e3))}var pt=at.prototype.setup;at.prototype.setup=function(t,e){var i=pt.apply(this,arguments),n=this._model,a=this._view,o=this.modelShim,s=st(a),u=n.get("advertising");if(o&&o.attributes.ampController){var c=o.attributes.ampController,l=this.playerReady;this.ampController=c,delete o.attributes.ampController,this.playerReady=function(){l.apply(this,arguments),c.setup(n)}}t.analytics&&(t.sdkplatform=t.sdkplatform||t.analytics.sdkplatform);var d=this.updatePlaylist;function h(t){n.on("change:playlistItem",f,this);u&&u.outstream;n.get("generateSEOMetadata")&&mt(t.item,this)}function f(t,e){0}this.updatePlaylist=function(t,e){var i=this,r=[];return dt(t,"images","image"),r.length?(n.attributes.itemReady=!1,Promise.all(r).then((function(){return d.call(i,t,e)}))):d.call(this,t,e)},e.getAdBlock=s.getAdBlock,this.once(r.W,h,this);return n.on("change:flashBlocked",(function(t,e){var i;e?(!!t.get("flashThrottle")?i={message:"Click to run Flash"}:(i=new v.l(v.i,210002),this.trigger(r.t,i)),t.set("errorEvent",i)):t.set("errorEvent",void 0)}),this),u&&u.outstream&&ot(this,t),i};e.default=at}}]);